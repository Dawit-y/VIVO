import{b as u,r,e as h,j as e,f,a as c}from"./index-QQyyaePt.js";import{P as y}from"./post_article_card_component-BHhVaIsq.js";function b(){const d=u(),s=r.useMemo(()=>d.state||{},[d.state]),[o,g]=r.useState(null),[a,p]=r.useState(null),x=h(),{post_id:i,applicant_id:l}=s;r.useEffect(()=>{i?(async()=>{try{const t=await c.get(`posts/${i}/`);console.log(t.data),g(t.data)}catch(t){console.error("Error fetching post:",t)}})():console.error("Post ID is missing")},[i]),r.useEffect(()=>{l?(async()=>{try{const t=await c.get(`applicants/${l}/`);p(t.data)}catch(t){console.error("Error fetching applicant:",t)}})():console.error("Applicant ID is missing")},[l]);const m=async n=>{try{const t=await c.patch(`applications/${s.id}/`,{status:n});console.log("Response:",t),x(-1)}catch(t){console.error("Error updating application status:",t)}};return!i||!l?e.jsx("div",{children:"Task ID is missing. Please provide a valid task."}):!o||!a?e.jsx(f,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("div",{className:"max-w-lg",children:e.jsx("h1",{className:"text-slate-500 text-center text-2xl m-8 font-extrabold sm:text-3xl",children:"Application Details"})}),e.jsxs("div",{children:[e.jsx(y,{post:o}),e.jsx("div",{className:"flex m-8 rounded-md bg-white p-4 border-gray-300 border-2 sm:p-6 lg:p-8 w-4/5 mx-auto",children:e.jsxs("dl",{className:"-my-3 divide-y divide-gray-100 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 even:bg-gray-50 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Applicant Name"}),e.jsx("dd",{className:"text-gray-700 sm:col-span-2",children:`${a.first_name} ${a.last_name}`})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 even:bg-gray-50 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Age"}),e.jsx("dd",{className:"text-gray-700 sm:col-span-2",children:a.age})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 even:bg-gray-50 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Gender"}),e.jsx("dd",{className:"text-gray-700 sm:col-span-2",children:a.gender})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 even:bg-gray-50 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Portfolio Link"}),e.jsx("dd",{className:"text-blue-600 hover:underline cursor-pointer sm:col-span-2",children:a.portfolio_link})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 even:bg-gray-50 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Resume"}),e.jsx("dd",{className:"text-blue-600 hover:underline cursor-pointer sm:col-span-2",children:a.resume})]}),e.jsxs("div",{children:[s.skills&&e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 even:bg-gray-50 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Skills"}),e.jsx("dd",{className:"text-gray-700 sm:col-span-2",children:s.skills})]}),s.cover_letter&&e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 even:bg-gray-50 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Cover Letter"}),e.jsx("dd",{className:"text-gray-700 sm:col-span-2",children:s.cover_letter})]}),s.availabilty&&e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 even:bg-gray-50 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Availability"}),e.jsx("dd",{className:"text-gray-700 sm:col-span-2",children:s.availabilty})]}),s.other&&e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 even:bg-gray-50 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Other Information"}),e.jsx("dd",{className:"text-gray-700 sm:col-span-2",children:s.other})]})]})]})})]}),s.status=="accepted"||s.status=="rejected"?e.jsx(e.Fragment,{children:e.jsxs("p",{className:"flex justify-center w-full max-w-2xl gap-5 mx-auto m-10 text-sm font-semibold rounded-lg border border-transparent text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:pointer-events-none dark:text-blue-500 dark:hover:text-blue-400 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600",children:["Already ",s.status," application."]})}):e.jsxs(e.Fragment,{children:[" ",e.jsxs("div",{class:"flex justify-center w-full max-w-2xl gap-5 mx-auto m-10",children:[e.jsx("div",{class:"mt-3 rounded-lg sm:mt-0",children:e.jsx("button",{onClick:()=>m("accepted"),class:"px-5 py-4 text-base font-medium text-center text-slate-700 transition duration-500 ease-in-out transform bg-green-300 lg:px-10 rounded-lg hover:bg-greem-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Accept"})}),e.jsx("div",{class:"mt-3 rounded-lg sm:mt-0 sm:ml-3",children:e.jsx("button",{onClick:()=>m("rejected"),class:"items-center block px-5 lg:px-10 py-3.5 text-base font-medium text-center text-red-600 transition duration-500 ease-in-out transform border-2 border-slate-300 shadow-md rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Decline"})})]})]})]})})}export{b as default};
