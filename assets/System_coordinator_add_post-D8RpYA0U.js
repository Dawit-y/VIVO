import{u as N,r as o,e as k,j as e,a as x}from"./index-QQyyaePt.js";const C=()=>{const{user:{system_coordinator_id:h}}=N(),[s,d]=o.useState({title:"",duration:"",type:"",level:"",category:"",skills_gained:"",description:""}),[r,p]=o.useState({skills:!1,availability:!1,cover_letter:!1}),[g,b]=o.useState(),[c,m]=o.useState(!1),[w,u]=o.useState(!1),y=k(),a=n=>{const{name:l,value:t,type:i,checked:j,files:v}=n.target;i==="file"?d({...s,file:v[0]}):i==="checkbox"?p({...r,[l]:j}):d({...s,[l]:t})},f=async n=>{n.preventDefault(),m(!0);const l=new FormData;for(let t=0;t<Object.keys(s).length;t++)l.append(`${Object.keys(s)[t]}`,Object.values(s)[t]);l.append("system_coordinator",h),l.append("image",g[0]);for(const[t,i]of Object.entries(l))console.log(`${t}: ${i}`);console.log("requirements",r);try{const t=await x.post("/posts/",l,{headers:{"Content-Type":"multipart/form-data"}});if(t.status==201){const{id:i}=t.data;await x.post(`/posts/${i}/requirements/`,r),u(!0),y("add_task",{state:{postId:t.data.id}})}}catch(t){console.error("Error creating post:",t),u(!1)}finally{m(!1)}};return e.jsx("section",{className:"text-gray-600 body-font overflow-scroll",children:e.jsxs("div",{className:"px-4 py-6 mx-auto max-w-9xl sm:px-6 md:px-12 lg:px-12 lg:py-12",children:[e.jsx("h1",{className:"text-slate-500 text-center text-2xl mb-5 font-extrabold sm:text-3xl",children:"Make a Post"}),e.jsx("form",{onSubmit:f,children:e.jsxs("div",{className:"justify-center mx-auto text-left align-bottom transition-all transform bg-white rounded-lg sm:align-middle w-full",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:a,className:"border-slate-300 peer block min-h-[auto] w-full rounded",id:"title",placeholder:"Enter Post Title","aria-label":"Post Title"}),e.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700",children:"Duration"}),e.jsx("input",{type:"text",name:"duration",value:s.duration,onChange:a,className:"border-slate-300 peer block min-h-[auto] w-full rounded",id:"duration",placeholder:"Enter Post Title","aria-label":"Post Title"}),e.jsxs("label",{htmlFor:"uploadFile1",className:"bg-white text-gray-500 font-semibold text-base mt-5 rounded max-w-xlg h-60 p-10 flex flex-col items-center justify-content cursor-pointer border-2 border-gray-300 border-dashed mx-auto font-[sans-serif]",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-11 mb-2 fill-gray-500",viewBox:"0 0 32 32",children:[e.jsx("path",{d:"M23.75 11.044a7.99 7.99 0 0 0-15.5-.009A8 8 0 0 0 9 27h3a1 1 0 0 0 0-2H9a6 6 0 0 1-.035-12 1.038 1.038 0 0 0 1.1-.854 5.991 5.991 0 0 1 11.862 0A1.08 1.08 0 0 0 23 13a6 6 0 0 1 0 12h-3a1 1 0 0 0 0 2h3a8 8 0 0 0 .75-15.956z","data-original":"#000000"}),e.jsx("path",{d:"M20.293 19.707a1 1 0 0 0 1.414-1.414l-5-5a1 1 0 0 0-1.414 0l-5 5a1 1 0 0 0 1.414 1.414L15 16.414V29a1 1 0 0 0 2 0V16.414z","data-original":"#000000"})]}),"Upload image",e.jsx("input",{type:"file",id:"uploadFile1",name:"file",className:"hidden",onChange:n=>b(n.target.files)}),e.jsx("p",{className:"text-xs font-medium text-gray-400 mt-2",children:"PNG, JPG SVG, WEBP, and GIF are Allowed."})]}),e.jsxs("div",{className:"flex mt-5 justify-content items-center",children:[e.jsxs("div",{className:"mr-4",children:[e.jsx("label",{className:"mr-3",children:"Type"}),e.jsxs("select",{name:"type",value:s.type,onChange:a,className:"rounded-md border-2 border-blue-200 py-1.5 pl-3 text-sm font-medium",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Internship",children:"Internship"}),e.jsx("option",{value:"VolunteerWork",children:"Volunteer Work"})]})]}),e.jsxs("div",{className:"mr-4",children:[e.jsx("label",{className:"mr-3",children:"Level"}),e.jsxs("select",{name:"level",value:s.level,onChange:a,className:"rounded-md border-2 border-blue-200 py-1.5 pl-3 text-sm font-medium",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Entry",children:"Entry Level"}),e.jsx("option",{value:"Mid",children:"Mid Level"}),e.jsx("option",{value:"Senior",children:"Senior Level"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mr-3",children:"Category"}),e.jsxs("select",{name:"category",value:s.category,onChange:a,className:"rounded-md border-2 border-blue-200 py-1.5 pl-3 text-sm font-medium",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Banking",children:"Banking"}),e.jsx("option",{value:"Business",children:"Business"}),e.jsx("option",{value:"Marketing",children:"Marketing"}),e.jsx("option",{value:"Data",children:"Data"}),e.jsx("option",{value:"Finance",children:"Finance"}),e.jsx("option",{value:"Security",children:"Security"}),e.jsx("option",{value:"Software Engineering",children:"Software Engineering"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"flex-cols justify-content w-full mt-6",children:[e.jsx("label",{className:"mb-10 mt-10",children:"Requirements"}),e.jsxs("label",{htmlFor:"skills",className:"flex cursor-pointer items-start gap-4 mb-4 mt-4 rounded-lg border border-gray-200 p-4 transition hover:bg-gray-50",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",name:"skills",checked:r.skills,onChange:a,className:"size-4 rounded border-gray-300",id:"skills"})}),e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-gray-900",children:"Skills"}),e.jsx("p",{className:"mt-1 text-sm text-gray-700",children:"Specify whether you want to inquire about the applicant's skills."})]})]}),e.jsxs("label",{htmlFor:"availability",className:"flex cursor-pointer items-start mb-4 gap-4 rounded-lg border border-gray-200 p-4 transition hover:bg-gray-50",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",name:"availability",checked:r.availability,onChange:a,className:"size-4 rounded border-gray-300",id:"availability"})}),e.jsxs("div",{children:[e.jsx("strong",{className:"font-medium text-gray-900",children:"Availability"}),". . .",e.jsx("p",{className:"mt-1 text-sm text-gray-700",children:"Specify whether you want to inquire about the applicant's availability for the position."})]})]}),e.jsxs("label",{htmlFor:"cover_letter",className:"flex cursor-pointer items-start gap-4 rounded-lg border border-gray-200 p-4 transition hover:bg-gray-50",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",name:"cover_letter",checked:r.cover_letter,onChange:a,className:"size-4 rounded border-gray-300",id:"cover_letter"})}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-pretty font-medium text-gray-900",children:"Cover Letter"}),e.jsx("p",{className:"mt-1 text-sm text-gray-700",children:"Specify whether you want to inquire about the applicant's motivation for choosing your company."})]})]})]}),e.jsx("div",{className:"relative mt-10 mb-3","data-twe-input-wrapper-init":!0,children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"skills",className:"block text-sm font-medium text-gray-700",children:"Skills Gained"}),e.jsx("textarea",{id:"skills",name:"skills_gained",value:s.skills_gained,onChange:a,className:"mt-2 w-full h-40 rounded-lg border-gray-200 align-top shadow-sm sm:text-sm",rows:2,cols:2,placeholder:"Type skills gained after the post comma separated e.g problem solving, "})]})}),e.jsx("div",{className:"relative mt-10 mb-3","data-twe-input-wrapper-init":!0,children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"OrderNotes",className:"block text-sm font-medium text-gray-700",children:"Descriptions"}),e.jsx("textarea",{id:"OrderNotes",name:"description",value:s.description,onChange:a,className:"mt-2 w-full h-40 rounded-lg border-gray-200 align-top shadow-sm sm:text-sm",rows:"4",placeholder:"Enter the descriptions"})]})}),e.jsx("div",{className:"z-50 mt-6 rounded-lg",children:e.jsx("button",{type:"submit",className:"items-center w-1/3 mx-auto mt-10 block px-10 py-3.5 text-base font-medium text-center cursor-pointer text-slate-100 transition duration-500 ease-in-out transform border-2 border-white shadow-md rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 bg-indigo-500",disabled:c,children:c?"Submitting...":"Continue to add Tasks"})})]})})]})})};export{C as default};
