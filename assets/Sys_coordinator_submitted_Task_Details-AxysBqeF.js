import{r as l,u as b,e as v,b as f,j as e,f as y,a as c}from"./index-QQyyaePt.js";import{P as N}from"./post_article_card_component-BHhVaIsq.js";function _(){const[n,m]=l.useState(null),[o,x]=l.useState({}),{user:{organization_id:u}}=b(),g=v(),d=f(),s=l.useMemo(()=>d.state||{},[d.state]),r=s.task.post_id,h=async t=>{try{const a=await c.get(`posts/${t}/`);console.log("response",a),m(a.data)}catch(a){console.error("Error fetching post:",a)}};l.useEffect(()=>{h(r)},[r]);const i=t=>{x({...o,[t.target.name]:t.target.value})},p=t=>{j(o)},j=async t=>{try{const a=await c.post(`organizations/${u}/submitted_tasks/${s.id}/evaluate/`,t);a.status==201&&g(-1),console.log("response evaluation",a)}catch(a){console.error("Error Posting evaluation:",a)}};return r?n?e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("div",{className:"max-w-lg",children:e.jsx("h1",{className:"text-slate-500 text-center text-2xl m-8 font-extrabold sm:text-3xl",children:"Submitted Tasks Details"})}),e.jsxs("div",{children:[e.jsx(N,{post:n}),e.jsx("div",{className:"flex m-8 rounded-md bg-white p-4 border-gray-300 border-2 sm:p-6 lg:p-8 w-4/5 mx-auto",children:e.jsxs("dl",{className:"-my-3 divide-y divide-gray-100 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 even:bg-gray-50 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Applicant Name"}),e.jsx("dd",{className:"text-gray-700 sm:col-span-2",children:`${s.applicant.first_name} ${s.applicant.last_name}`})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 even:bg-gray-50 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Gender"}),e.jsx("dd",{className:"text-gray-700 sm:col-span-2",children:s.applicant.gender})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 even:bg-gray-50 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Phone Number"}),e.jsx("dd",{className:"text-gray-700 sm:col-span-2",children:s.applicant.phone_number})]})]})}),e.jsx("div",{class:"mx-auto mt-10 w-4/5",children:e.jsxs("details",{class:"group [&_summary::-webkit-details-marker]:hidden mb-2",children:[e.jsxs("summary",{class:"flex cursor-pointer items-center justify-between gap-1.5 rounded-lg bg-gray-50 dark:bg-slate-800 p-4 text-gray-900",children:[e.jsx("h2",{class:"font-bold dark:text-slate-300",children:"View Task"}),e.jsx("svg",{class:"w-5 h-5 shrink-0 transition duration-300 group-open:-rotate-180 dark:text-slate-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})})]}),e.jsx("div",{class:"grid grid-cols-1 px-10",children:e.jsx("section",{className:"bg-white dark:bg-slate-900",children:e.jsxs("div",{className:"container px-4 py-8 mx-auto space-y-8 lg:max-w-3xl",children:[e.jsx("h2",{className:"text-2xl font-bold md:text-3xl",children:"Task"}),e.jsx("div",{className:"space-y-8",children:e.jsx("div",{children:e.jsx("ul",{className:"space-y-4",children:e.jsxs("li",{className:"space-y-1 bg-slate-100 p-2 rounded-md dark:bg-slate-700",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("h4",{className:"ml-7 font-medium",children:s.task.title})}),e.jsx("p",{className:"ml-7 dark:text-gray-400",children:"description"}),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-sm font-bold mt-3",children:"Submitted Solution"}),e.jsx("hr",{}),s.submited_url&&e.jsx("p",{className:"text-blue-600 hover:underline cursor-pointer sm:col-span-2 overflow-hidden",children:s.submited_url}),s.submited_file&&e.jsx("p",{className:"text-blue-600 hover:underline cursor-pointer sm:col-span-2 overflow-hidden",children:s.submited_file}),s.submitted_text&&e.jsx("div",{dangerouslySetInnerHTML:{__html:s.submitted_text}})]})]})})})})]})})})]})})]}),e.jsxs("div",{className:"w-4/5 mx-auto",children:[e.jsx("h1",{className:"text-2xl text-left font-bold p-3",children:"Evaluate"}),e.jsx("hr",{}),s.status=="Completed"?e.jsx(e.Fragment,{children:e.jsx("p",{className:"inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:pointer-events-none dark:text-blue-500 dark:hover:text-blue-400 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600",children:"Already evaluated task."})}):e.jsxs(e.Fragment,{children:[" ",e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-10 my-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Skill Learned",className:"block text-sm font-medium text-gray-700",children:"Skill Learned"}),e.jsx("input",{type:"text",id:"SkillLearned",name:"skills_learned",placeholder:"Problem Solving",className:"mt-1 w-full rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm",onChange:t=>i(t)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Proficiency Level",className:"block text-sm font-medium text-gray-700",children:"Proficiency Level"}),e.jsxs("select",{name:"proficiency_level",id:"proficiencylevel",className:"mt-1 w-full rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm",onChange:t=>i(t),children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Excellent",children:"Excellent"}),e.jsx("option",{value:"Very Good",children:"Very Good"}),e.jsx("option",{value:"Satisfactory",children:"Satisfactory"}),e.jsx("option",{value:"Poor",children:"Poor"})]})]})]}),e.jsx("label",{for:"message",className:"font-medium mb-2 text-slate-600",children:"Comment"}),e.jsx("textarea",{class:"w-full rounded-lg border-gray-400 p-3 text-sm placeholder-gray-400",placeholder:"Message",rows:"4",id:"message",name:"comment",onChange:t=>i(t)}),e.jsx("div",{class:"flex justify-center w-full max-w-2xl gap-5 mx-auto m-10",children:e.jsx("div",{class:"mt-3 rounded-lg sm:mt-0",children:e.jsx("button",{onClick:p,class:"px-5 py-4 text-base font-semibold text-center text-slate-700 transition duration-500 ease-in-out transform bg-green-300 lg:px-10 rounded-lg hover:bg-greem-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Evaluate"})})})]})]})]})]})}):e.jsx("div",{children:e.jsx(y,{})}):(console.error("Submitted task or post_id is missing"),e.jsx("div",{children:"Task ID is missing. Please provide a valid task."}))}export{_ as default};
