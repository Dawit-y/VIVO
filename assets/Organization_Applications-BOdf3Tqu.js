import{q as p,s as u,r as l,j as e,N as g,a as b,I as w}from"./index-CDdEqYjS.js";function j(){const{organization_id:i}=p(u),[n,d]=l.useState([]),[a,c]=l.useState(""),o=async s=>{try{const m=(await b.get(`organizations/${s}/applications`)).data.map(t=>({id:t.id.toString(),applicant_id:t.applicant.id,image:w,name:`${t.applicant.first_name} ${t.applicant.last_name}`,email:t.applicant.email,phone_number:t.applicant.phone_number,gender:t.applicant.gender,post_id:t.post.id,post:t.post.title,status:t.status,skills:t.skills,cover_letter:t.cover_letter,availability:t.availability,other:t.other,application_date:new Date(t.created).toLocaleDateString()}));d(m)}catch(r){console.error("Error fetching applications:",r)}};l.useEffect(()=>{i&&o(i)},[i]);const h=n.filter(s=>s.name.toLowerCase().includes(a.toLowerCase())||s.email.toLowerCase().includes(a.toLowerCase())||s.application_date.toLowerCase().includes(a.toLowerCase())||s.status.toLowerCase().includes(a.toLowerCase())||s.post.toLowerCase().includes(a.toLowerCase())),x=s=>{c(s.target.value)};return e.jsxs("div",{className:"col-span-full xl:col-span-full bg-white dark:bg-slate-800 shadow-lg  border-slate-200  border rounded-lg divide-y divide-gray-200 dark:border-gray-700 dark:divide-gray-700",children:[e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"py-3 px-4",children:e.jsxs("div",{className:"relative max-w-xs",children:[e.jsx("label",{className:"sr-only",children:"Search"}),e.jsx("input",{type:"text",name:"hs-table-with-pagination-search",id:"hs-table-with-pagination-search",className:"py-2 px-3 ps-9 block w-full border-gray-200 shadow-sm rounded-lg text-sm focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600",placeholder:"Search for items",value:a,onChange:x}),e.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center pointer-events-none ps-3",children:e.jsxs("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.3-4.3"})]})})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsx("header",{className:"px-5 py-4 border-b border-slate-100 dark:border-slate-700",children:e.jsx("h2",{className:"font-semibold text-slate-800 dark:text-slate-100",children:"Applications"})}),e.jsxs("table",{className:"table-auto w-full",children:[e.jsx("thead",{className:"text-xs font-semibold uppercase text-slate-400 dark:text-slate-500 bg-slate-50 dark:bg-slate-700 dark:bg-opacity-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-left",children:"Applicant"})}),e.jsx("th",{className:"p-2 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-left",children:"Post"})}),e.jsx("th",{className:"p-2 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-left",children:"Date"})}),e.jsx("th",{className:"p-2 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-center",children:"Email"})}),e.jsx("th",{className:"p-2 whitespace-nowrap",children:e.jsx("div",{className:"font-semibold text-center",children:"Status"})})]})}),e.jsx("tbody",{className:"text-sm divide-y divide-slate-100 dark:divide-slate-700",children:h.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 whitespace-nowrap",children:e.jsx(g,{end:!0,state:s,to:"Application_Details",className:({isActive:r})=>"block transition duration-150 truncate "+(r?"text-indigo-500":"text-slate-400 hover:text-slate-200"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 shrink-0 mr-2 sm:mr-3",children:e.jsx("img",{className:"rounded-full",src:s.image,width:"40",height:"40",alt:s.name})}),e.jsx("div",{className:"font-medium text-slate-800 dark:text-slate-100",children:s.name})]})})}),e.jsx("td",{className:"p-2 whitespace-nowrap",children:e.jsx("div",{className:"text-left",children:s.post})}),e.jsx("td",{className:"p-2 whitespace-nowrap",children:e.jsx("div",{className:"text-left font-medium text-green-500",children:s.application_date})}),e.jsx("td",{className:"p-2 whitespace-nowrap",children:e.jsx("div",{className:"text-md text-center",children:s.email})}),e.jsx("td",{className:"p-2 whitespace-nowrap",children:e.jsx("div",{className:"text-center font-medium",style:{color:s.status==="accepted"?"green":s.status==="pending"?"black":"red"},children:s.status})})]},s.id))})]})]})]}),e.jsx("div",{className:"py-1 px-4",children:e.jsxs("nav",{className:"flex items-center space-x-1",children:[e.jsxs("button",{type:"button",className:"p-2.5 inline-flex items-center gap-x-2 text-sm rounded-full text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600",children:[e.jsx("span",{"aria-hidden":"true",children:"«"}),e.jsx("span",{className:"sr-only",children:"Previous"})]}),e.jsx("button",{type:"button",className:"min-w-[40px] flex justify-center items-center text-gray-800 hover:bg-gray-100 py-2.5 text-sm rounded-full disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10","aria-current":"page",children:"1"}),e.jsx("button",{type:"button",className:"min-w-[40px] flex justify-center items-center text-gray-800 hover:bg-gray-100 py-2.5 text-sm rounded-full disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10",children:"2"}),e.jsx("button",{type:"button",className:"min-w-[40px] flex justify-center items-center text-gray-800 hover:bg-gray-100 py-2.5 text-sm rounded-full disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10",children:"3"}),e.jsxs("button",{type:"button",className:"p-2.5 inline-flex items-center gap-x-2 text-sm rounded-full text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx("span",{"aria-hidden":"true",children:"»"})]})]})})]})}const v=()=>e.jsx("main",{className:"px-10 py-10",children:e.jsx("div",{className:"grid grid-cols-12 gap-6",children:e.jsx(j,{})})});export{v as default};
